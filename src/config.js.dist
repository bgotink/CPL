var Sequelize = require('sequelize')
  , FileSystem = require('fs')
  , Path = require('path')
  , Log = require('./log');

// Log config
Log.LogSettings.DEBUG = true;

// SQLite Config
var dbFile = __dirname + '/../data/db.sqlite';

if (!FileSystem.existsSync(Path.dirname(dbFile))) {
    FileSystem.mkdirSync(Path.dirname(dbFile));
}

module.exports = new Sequelize('cpl', 'cpl', null, {
    dialect: 'sqlite',
    storage: dbFile,
    logging: Log.sql // also possible is value false, to disable logging the SQL queries
});

/*
// PostgreSQL config
module.exports = new Sequelize('cpl', 'cpl', 'cpl', {
    dialect:    'postgres',
    logging:    false,

    protocol:   'tcp',
    username:   'cpl',
    password:   'cpl',
    host:       'localhost',
    port:       5432,
    database:   'cpl'
});
*/

// MySQL config
/*
module.exports = new Sequelize('cpl', 'cpl', 'cpl', {
    dialect: 'mysql',
    logging: false
});
*/
